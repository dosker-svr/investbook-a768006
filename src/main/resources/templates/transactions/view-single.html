<!--
  ~ InvestBook
  ~ Copyright (C) 2021  Spacious Team <spacious-team@ya.ru>
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Сохранена сделка</title>
    <link rel="stylesheet" href="/water-light.css"> <!-- https://cdn.jsdelivr.net/npm/water.css@2/out/light.css -->
    <link rel="stylesheet" href="/water-wrapper.css">
</head>
<body>

<h1>Сохранена сделка</h1>
<h2 th:switch="${transaction.action.name}">
    <span th:case="BUY">Покупка</span>
    <span th:case="CELL">Продажа</span>
</h2>
<p th:text="'Счет: ' +  ${transaction.portfolio}"/>
<p th:text="'Дата исполнения: ' + ${transaction.date}"/>
<p th:text="'Номер сделки: ' +  ${transaction.tradeId}" th:if="${transaction.tradeId != null && transaction.tradeId != ''}"/>
<p th:text="'Инструмент: ' +  ${transaction.security}" />
<p th:text="'Количество: ' + ${transaction.count}" />
<p th:text="'Цена: ' + ${transaction.price} + ' ' + ${transaction.priceCurrency}" th:if="${transaction.price != null}" />
<p th:text="'НКД: ' + ${transaction.accruedInterest} + ' ' + ${transaction.getPriceCurrency}" th:if="${transaction.accruedInterest != null}"/>
<p th:text="'Шаг цены: ' + ${transaction.priceTick}" th:if="${transaction.priceTick != null}"/>
<p th:text="'Стоимость шага: ' + ${transaction.priceTickValue} + ' ' + ${transaction.priceTickValueCurrency}" th:if="${transaction.priceTickValue != null}"/>
<p th:text="'Комиссия: ' + ${transaction.fee} + ' ' + ${transaction.feeCurrency}" th:if="${transaction.fee != null}" />
<a href="/transactions/edit-form">Добавить еще</a><br>
<a th:href="@{/transactions/delete(id=${transaction.id})}">Удалить эту сделку</a><br>
<a href="/transactions">Посмотреть все сделки</a><br>
<a href="/forms.html">На главную</a><br>

</body>
</html>